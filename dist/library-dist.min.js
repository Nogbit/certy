!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("fs")):"function"==typeof define&&define.amd?define(["fs"],r):e.certy=r(e.fs)}(this,function(e){"use strict";var r={list:function(e,r){return{ca:"openssl req -new -x509 -days 9999 -config "+e+"/ca.cnf -keyout "+r+"/ca-key.pem -out "+r+"/ca-crt.pem",serverKey:"openssl genrsa -out "+r+"/server-key.pem 4096",serverCSR:"openssl req -new -config "+e+"/ca.cnf -key "+r+"/server-key.pem -out "+r+"/server-csr.pem",serverSign:"openssl x509 -req -extfile "+e+'/ca.cnf -days 999 -passin "pass:password" -in '+r+"/server-csr.pem -CA "+r+"/ca-crt.pem -CAkey "+r+"/ca-key.pem -CAcreateserial -out "+r+"/server-crt.pem",clientKey:"openssl genrsa -out "+r+"/client-key.pem 4096",clientCSR:"openssl req -new -config "+e+"/client.cnf -key "+r+"/client-key.pem -out "+r+"/client-csr.pem",clientSign:"openssl x509 -req -extfile "+e+'/client.cnf -days 999 -passin "pass:password" -in '+r+"/client-csr.pem -CA "+r+"/ca-crt.pem -CAkey "+r+"/ca-key.pem -CAcreateserial -out "+r+"/client-crt.pem"}}},n=r,c=require("child_process").exec,t={create:function(r){var t=__dirname,s="",i="";t.indexOf("/src",t.length-4)>0?(s=t.replace("/src","/output"),i=t.replace("/src","/input")):(s=t.replace("/dist","/output"),i=t.replace("/dist","/input"));var p=n.list(i,s);c(p.ca,function(){c(p.serverKey,function(){c(p.serverCSR,function(){c(p.serverSign,function(){c(p.clientKey,function(){c(p.clientCSR,function(){c(p.clientSign,function(){var n={serverKey:e.readFileSync(""+s+"/server-key.pem"),serverCert:e.readFileSync(""+s+"/server-crt.pem"),clientCert:e.readFileSync(""+s+"/client-crt.pem"),clientKey:e.readFileSync(""+s+"/client-key.pem"),ca:e.readFileSync(""+s+"/ca-crt.pem")};r(null,n)})})})})})})})}},s=t;return s});
//# sourceMappingURL=library-dist.min.js.map